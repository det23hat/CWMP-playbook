  - name: 
    set_fact:
      c_name : "{{ new_du_item.container_name | trim('/') }}"
  - name: 運行新版本 container
    community.docker.docker_container:
      name: "{{ c_name }}"
      image: '{{ new_du_item.image_ver }}'
      detach: yes
      interactive: no
      privileged: no
      tty: no
      ports: '{{ new_du_item.ports }}'
      volumes: '{{ new_du_item.volumes }}'
    when: 
      - new_du_item.ports != []
      - new_du_item.volumes != []

  - name: 運行新版本 container
    community.docker.docker_container:
      name: "{{ c_name }}"
      image: '{{ new_du_item.image_ver }}'
      detach: yes
      interactive: no
      privileged: no
      tty: no
      ports: '{{ new_du_item.ports }}'
    when: 
      - new_du_item.ports != []
      - new_du_item.volumes == []

  - name: 運行新版本 container
    community.docker.docker_container:
      name: "{{ c_name }}"
      image: '{{ new_du_item.image_ver }}'
      detach: yes
      interactive: no
      privileged: no
      tty: no
      volumes: '{{ new_du_item.volumes }}'
    when: 
      - new_du_item.ports == []
      - new_du_item.volumes != []

  - name: 運行新版本 container
    community.docker.docker_container:
      name: "{{ c_name }}"
      image: '{{ new_du_item.image_ver }}'
      detach: yes
      interactive: no
      privileged: no
      tty: no
    when: 
      - new_du_item.ports == []
      - new_du_item.volumes == []